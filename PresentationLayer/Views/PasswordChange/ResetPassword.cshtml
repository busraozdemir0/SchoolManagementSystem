@model ResetPasswordViewModel
@{
    Layout = null;
}
<head>
    <meta charset="utf-8" />
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />

    <title>Şifre Yenile</title>
    <link rel="icon" type="image/x-icon" href="~/icons/lock.png" />
    <link href="~/lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<div class="container mt-5">
    <div class="card">
        <h4 class="card-header text-center p-2">Şifre Belirleme Alanı</h4>
        <div class="card-body m-5">
            <form asp-area="" asp-controller="PasswordChange" asp-action="ResetPassword" method="post" id="passwordBtn" onsubmit="event.preventDefault(); confirmBtn(event)">
                <p class="card-text">Yeni şifrenizi giriniz.</p>
                <input type="text" class="form-control" placeholder="Yeni Şifre" asp-for="Password" />
                <span asp-validation-for="Password" class="text-danger" style="color:  #ff0000;"></span>
                <br />
                <p class="card-text">Yeni şifrenizi tekrar giriniz.</p>
                <input type="text" class="form-control" placeholder="Yeni Şifre Tekrar" asp-for="ConfirmPassword" />
                <span asp-validation-for="ConfirmPassword" class="text-danger" style="color:  #ff0000;"></span>
                <br />
                <button id="btn" type="submit" class="btn btn-primary">Şifreyi Güncelle</button>
            </form>
        </div>
    </div>
</div>

<script>
    function confirmBtn(event) {
        Swal.fire({
            title: 'Başarılı!',
            text: "Şifreniz başarıyla değiştirilmiştir.",
            icon: 'success',
            showCancelButton: false,
            confirmButtonColor: '#3085d6',
            confirmButtonText: 'Tamam',
        }).then((result) => {
            if (result.isConfirmed) {
                document.getElementById("passwordBtn").submit();
            }
        });
    }
</script>